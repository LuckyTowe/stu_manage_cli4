(function(t){function e(e){for(var s,o,u=e[0],i=e[1],l=e[2],d=0,p=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,u=1;u<a.length;u++){var i=a[u];0!==n[i]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var c=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),n=a.n(s);n.a},"038e":function(t,e,a){"use strict";var s=a("abc9"),n=a.n(s);n.a},"0e35":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("a026"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"wrapper"},[a("sys-header"),a("left-menu"),a("div",{staticClass:"right-content"},[a("router-view")],1)],1)])},r=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a("cf05"),alt:""}}),t._v(" "),s("span",[t._v("学生信息管理系统")])])])}],i={},l=i,c=a("2877"),d=Object(c["a"])(l,o,u,!1,null,null,null),p=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-menu"},[a("dl",{attrs:{id:"menu"}},[a("dt",[t._v("学生管理")]),a("router-link",{attrs:{to:"/stulist",tag:"dd"}},[t._v("学生列表")]),a("router-link",{attrs:{to:"/addstu",tag:"dd"}},[t._v("新增学生")])],1)])},v=[],f={},h=f,g=Object(c["a"])(h,m,v,!1,null,null,null),_=g.exports,b={components:{sysHeader:p,leftMenu:_}},P=b,w=(a("034f"),Object(c["a"])(P,n,r,!1,null,null,null)),y=w.exports,x=a("8c4f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-student content",attrs:{id:"add-student"}},[a("form",{staticClass:"add-student-form",attrs:{action:"#",id:"add-student-form"}},[a("div",[a("label",{attrs:{for:"name"}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.name,expression:"stu.name"}],attrs:{type:"text",name:"name",autocomplete:"off"},domProps:{value:t.stu.name},on:{input:function(e){e.target.composing||t.$set(t.stu,"name",e.target.value)}}})]),a("div",{staticClass:"sex"},[a("label",{attrs:{for:"sex"}},[t._v("性别")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.sex,expression:"stu.sex"}],attrs:{type:"radio",name:"sex",checked:"",value:"0"},domProps:{checked:t._q(t.stu.sex,"0")},on:{change:function(e){return t.$set(t.stu,"sex","0")}}}),a("span",[t._v("男")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.sex,expression:"stu.sex"}],attrs:{type:"radio",name:"sex",value:"1"},domProps:{checked:t._q(t.stu.sex,"1")},on:{change:function(e){return t.$set(t.stu,"sex","1")}}}),a("span",[t._v("女")])]),a("div",[a("label",{attrs:{for:"sNo"}},[t._v("学号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.sNo,expression:"stu.sNo"}],attrs:{type:"text",id:"sNo",name:"sNo"},domProps:{value:t.stu.sNo},on:{input:function(e){e.target.composing||t.$set(t.stu,"sNo",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"email"}},[t._v("邮箱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.email,expression:"stu.email"}],attrs:{type:"text",id:"email",name:"email"},domProps:{value:t.stu.email},on:{input:function(e){e.target.composing||t.$set(t.stu,"email",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"birth"}},[t._v("出生年")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.birth,expression:"stu.birth"}],attrs:{type:"text",id:"birth",name:"birth"},domProps:{value:t.stu.birth},on:{input:function(e){e.target.composing||t.$set(t.stu,"birth",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"phone"}},[t._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.phone,expression:"stu.phone"}],attrs:{type:"text",id:"phone",name:"phone"},domProps:{value:t.stu.phone},on:{input:function(e){e.target.composing||t.$set(t.stu,"phone",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"address"}},[t._v("住址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stu.address,expression:"stu.address"}],attrs:{type:"text",id:"address",name:"address"},domProps:{value:t.stu.address},on:{input:function(e){e.target.composing||t.$set(t.stu,"address",e.target.value)}}})]),a("div",[a("label",{attrs:{for:""}}),a("input",{staticClass:"btn",attrs:{type:"button",value:"提交",id:"add-submit"},on:{click:t.commit}}),a("input",{staticClass:"btn",attrs:{type:"button",value:"重置"},on:{click:t.reset}})])])])},k=[],$={data(){return{stu:{name:null,sex:0,birth:null,sNo:null,email:null,address:null,phone:null}}},methods:{reset(){this.stu={name:null,sex:0,birth:null,sNo:null,email:null,address:null,phone:null}},commit(){this.$api.addStu(this.stu).then(()=>{this.$router.push("/stulist")})}}},O=$,N=Object(c["a"])(O,S,k,!1,null,null,null),j=N.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"student-list content",attrs:{id:"student-list"}},[a("stu-search"),a("stu-table"),a("turn-page"),a("transition",[t.flag?a("show-modal"):t._e()],1)],1)},E=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("label",{attrs:{for:"search-word"}},[t._v("关键字搜索:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",id:"search-word"},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),a("button",{attrs:{id:"search-submit"},on:{click:t.search}},[t._v("搜索")])])},M=[],L={data(){return{keywords:""}},methods:{search(){this.$store.commit("setKeyWords",this.keywords),this.$store.dispatch("turnPage",1)}}},B=L,z=Object(c["a"])(B,T,M,!1,null,null,null),A=z.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{attrs:{border:"0"}},[t._m(0),a("tbody",{attrs:{id:"student-body"}},t._l(t.list,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.sNo))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(0==e.sex?"男":"女"))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s((new Date).getFullYear()-e.birth))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.address))]),a("td",[a("button",{staticClass:"btn edit",on:{click:function(a){return t.edit(e)}}},[t._v("编辑")]),t._v(" "),a("button",{staticClass:"btn del",on:{click:function(a){return t.del(e.sNo)}}},[t._v("删除")])])])})),0)])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("学号")]),a("th",[t._v("姓名")]),a("th",[t._v("性别")]),a("th",[t._v("邮箱")]),a("th",[t._v("年龄")]),a("th",[t._v("手机号")]),a("th",[t._v("住址")]),a("th",[t._v("操作")])])])}],J=a("2f62"),W={created(){this.getStuList(1)},computed:{...Object(J["d"])({list:t=>t.list})},methods:{...Object(J["b"])(["getStuList","delStu"]),...Object(J["c"])(["setActiveStu","setModalShow"]),edit(t){this.setActiveStu(t),this.setModalShow(!0)},del(t){let e=window.confirm("确定要删除吗？");e&&this.delStu(t)}}},D=W,F=Object(c["a"])(D,K,q,!1,null,null,null),G=F.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{attrs:{id:"turn-page"}},[a("li",{on:{click:function(e){return t.turnPage("pre")}}},[t._v("上一页")]),t.totalPage<=7?t._l(t.totalPage,(function(e){return a("li",{key:e,class:{active:e==t.nowPage},on:{click:function(a){return t.turnPage(e)}}},[t._v(t._s(e))])})):[t.nowPage<=4?t._l(6,(function(e){return a("li",{key:e,class:{active:t.nowPage==e},on:{click:function(a){return t.turnPage(e)}}},[t._v(t._s(e))])})):t._e(),t.nowPage>4?[a("li",{on:{click:function(e){return t.turnPage(1)}}},[t._v("1")]),a("li",[t._v("...")])]:t._e(),t.nowPage>4&&t.nowPage<=t.totalPage-4?t._l(5,(function(e){return a("li",{key:e,class:{active:3==e},on:{click:function(a){return t.turnPage(t.nowPage-3+e)}}},[t._v(t._s(t.nowPage-3+e))])})):t._e(),t.nowPage<=t.totalPage-4?[a("li",[t._v("...")]),a("li",{on:{click:function(e){return t.turnPage(t.totalPage)}}},[t._v(t._s(t.totalPage))])]:t._e(),t.nowPage>t.totalPage-4?t._l(6,(function(e){return a("li",{key:e,class:{active:t.totalPage-6+e==t.nowPage},on:{click:function(a){return t.turnPage(t.totalPage-6+e)}}},[t._v(t._s(t.totalPage-6+e))])})):t._e()],a("li",{on:{click:function(e){return t.turnPage("next")}}},[t._v("下一页")])],2)},I=[],R={computed:{...Object(J["d"])(["nowPage","totalPage"])},methods:{turnPage(t){this.$store.dispatch("turnPage",t)}}},U=R,Y=(a("935e"),Object(c["a"])(U,H,I,!1,null,null,null)),Q=Y.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",attrs:{id:"modal"}},[a("div",{staticClass:"mask",on:{click:function(e){return t.$store.commit("setModalShow",!1)}}}),a("div",{staticClass:"modal-content"},[a("h2",[t._v("编辑信息")]),a("form",{staticClass:"add-student-form",attrs:{action:"#",id:"edit-student-form"}},[a("div",[a("label",{attrs:{for:"name"}},[t._v("姓名")]),a("input",{ref:"name",attrs:{type:"text",name:"name",autocomplete:"off"},domProps:{value:t.activeStu.name},on:{input:function(e){return t.edit("name",e.target.value)}}})]),a("div",{staticClass:"sex"},[a("label",{attrs:{for:"sex"}},[t._v("性别")]),a("input",{ref:"sex",attrs:{type:"radio",name:"sex"},domProps:{checked:0==t.activeStu.sex},on:{change:function(e){return t.edit("sex",0)}}}),a("span",[t._v("男")]),a("input",{attrs:{type:"radio",name:"sex"},domProps:{checked:1==t.activeStu.sex},on:{change:function(e){return t.edit("sex",1)}}}),a("span",[t._v("女")])]),a("div",[a("label",{attrs:{for:"sNo"}},[t._v("学号")]),a("input",{attrs:{type:"text",name:"sNo",readonly:""},domProps:{value:t.activeStu.sNo}})]),a("div",[a("label",{attrs:{for:"email"}},[t._v("邮箱")]),a("input",{ref:"email",attrs:{type:"text",name:"email"},domProps:{value:t.activeStu.email},on:{input:function(e){return t.edit("email",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"birth"}},[t._v("出生年")]),a("input",{ref:"birth",attrs:{type:"text",name:"birth"},domProps:{value:t.activeStu.birth},on:{input:function(e){return t.edit("birth",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"phone"}},[t._v("手机号")]),a("input",{ref:"phone",attrs:{type:"text",name:"phone"},domProps:{value:t.activeStu.phone},on:{input:function(e){return t.edit("phone",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"address"}},[t._v("住址")]),a("input",{ref:"addresss",attrs:{type:"text",name:"address"},domProps:{value:t.activeStu.address},on:{input:function(e){return t.edit("address",e.target.value)}}})]),a("div",[a("label",{attrs:{for:""}}),a("input",{staticClass:"btn",attrs:{type:"button",value:"提交",id:"edit-submit"},on:{click:t.commit}}),a("input",{staticClass:"btn",attrs:{type:"button",value:"重置"},on:{click:t.reset}})])])])])},X=[],Z={data(){return{stu:{}}},computed:{...Object(J["d"])(["activeStu"])},methods:{...Object(J["b"])(["updateStu"]),edit(t,e){this.stu[t]=e},commit(){let t=Object.assign({},this.activeStu,this.stu);this.updateStu(t).then(t=>{this.$Toast(t)})},reset(){for(var t in this.$refs)"sex"!=t&&(this.$refs[t].value="",this.stu[t]="");this.$refs.sex.checked=!0,this.stu.sex=0}}},tt=Z,et=Object(c["a"])(tt,V,X,!1,null,null,null),at=et.exports,st={components:{stuSearch:A,stuTable:G,turnPage:Q,showModal:at},computed:{flag(){return this.$store.state.modalShow}}},nt=st,rt=(a("038e"),Object(c["a"])(nt,C,E,!1,null,null,null)),ot=rt.exports;s["a"].use(x["a"]);const ut=[{path:"/stulist",component:ot},{path:"/addstu",component:j},{path:"*",redirect:"/stulist"}],it=new x["a"]({mode:"hash",base:"",routes:ut,linkExactActiveClass:"active"});var lt=it,ct=a("bc3a"),dt=a.n(ct),pt={base:"http://api.duyiedu.com",searchStu:"/api/student/searchStudent",findByPage:"/api/student/findByPage",addStu:"/api/student/addStudent",updateStu:"/api/student/updateStudent",delStu:"/api/student/delBySno"};const mt=dt.a.create({baseURL:pt.base,method:"GET",params:{appkey:"Towe_1582352374649"}});function vt(t,e){return mt({url:pt.findByPage,params:{page:t,size:e}})}function ft(t){return mt({url:pt.updateStu,params:{...t}})}function ht(t){return mt({url:pt.addStu,params:{...t}})}function gt(t){return mt({url:pt.delStu,params:{sNo:t}})}function _t(t){return mt({url:pt.searchStu,params:{...t}})}var bt={findByPage:vt,updateStu:ft,addStu:ht,delStu:gt,searchStu:_t};s["a"].use(J["a"]);var Pt=new J["a"].Store({state:{list:[],size:4,totalPage:0,nowPage:1,count:0,activeStu:null,modalShow:!1,keywords:""},mutations:{setList(t,e){t.list=e},setTotalPage(t,e){t.count=e,t.totalPage=Math.ceil(e/t.size)},setActiveStu(t,e){t.activeStu=e},setModalShow(t,e){t.modalShow=e},setNowPage(t,e){t.nowPage=e},setKeyWords(t,e){t.keywords=e}},actions:{getStuList({commit:t,state:e}){bt.findByPage(e.nowPage,e.size).then(e=>{t("setList",e.data.data.findByPage),t("setTotalPage",e.data.data.cont)})},updateStu({commit:t,state:e},a){return bt.updateStu(a).then(e=>(console.log(e),"fail"==e.data.status?{msg:e.data.msg,type:2}:(t("setModalShow",!1),{msg:e.data.msg,type:1})))},turnPage({commit:t,state:e,dispatch:a},s){"pre"==s?e.nowPage>1&&t("setNowPage",e.nowPage-1):"next"==s?e.nowPage<e.totalPage&&t("setNowPage",e.nowPage+1):t("setNowPage",s),e.keywords?a("searchStu"):a("getStuList")},delStu({commit:t,state:e,dispatch:a},s){bt.delStu(s).then(()=>{1==e.list.length&&e.nowPage==e.totalPage?a("turnPage",e.nowPage-1):a("turnPage",e.nowPage)})},searchStu({commit:t,state:e,dispatch:a}){bt.searchStu({search:e.keywords,page:e.nowPage,size:e.size,sex:-1}).then(e=>{t("setList",e.data.data.searchList),t("setTotalPage",e.data.data.cont)})}},modules:{}}),wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{class:[t.flag?"fadeIn":"fadeOut"],attrs:{id:"toast"}},[a("div",{class:t.cls,attrs:{id:"content"}},[t._v(t._s(t.typs)+t._s(t.msg))])]):t._e()},yt=[],xt={},St=xt,kt=(a("d2b7"),Object(c["a"])(St,wt,yt,!1,null,null,null)),$t=kt.exports;const Ot=s["a"].extend($t);var Nt=function({msg:t,type:e}={msg:"OK",type:1},a=2e3){let s=new Ot({el:document.createElement("div"),data:{msg:t,type:e,flag:!0,show:!0},computed:{typs(){switch(this.type){case 1:return"√";case 2:return"×";default:return"×"}},cls(){switch(this.type){case 1:return"suc";case 2:return"err";default:return"err"}}}});document.body.appendChild(s.$el),setTimeout((function(){s.flag=!1}),a-200),setTimeout((function(){s.show=!1}),a)};s["a"].config.productionTip=!1,s["a"].prototype.$Toast=Nt,s["a"].use((function(){s["a"].prototype.$api=bt})),new s["a"]({router:lt,store:Pt,render:function(t){return t(y)}}).$mount("#app")},"5ffe":function(t,e,a){},"85ec":function(t,e,a){},"935e":function(t,e,a){"use strict";var s=a("5ffe"),n=a.n(s);n.a},abc9:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.6640178f.png"},d2b7:function(t,e,a){"use strict";var s=a("0e35"),n=a.n(s);n.a}});
//# sourceMappingURL=app.80d53a46.js.map